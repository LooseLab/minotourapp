<div class="row">

    <div class="col-md-12">

        <div class="alert alert-warning text-center" role="alert">Please be aware that searching and ordering involve processing large amounts of data, and might affect the user experience. To start working with the table, please click on any column header.</div>

        <div class='panel panel-info'>
            <div class='panel-heading'>
                <h3 class='panel-title'>Reads</h3>
            </div>
            <div class='panel-body'>

                <table id="example" class="display" style="width:100%">
                    <thead>
                    <tr>
                        <th>Read ID</th>
                        <th>Read</th>
                        <th>Channel</th>
                        <th>Sequence Length</th>
                        <th>RunID</th>
                        <th>Barcode</th>
                        <th>Command</th>
                    </tr>
                    </thead>
                    <tfoot>
                    <tr>
                        <th>Read ID</th>
                        <th>Read</th>
                        <th>Channel</th>
                        <th>Sequence Length</th>
                        <th>RunID</th>
                        <th>Barcode</th>
                        <th>Command</th>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>

</div>
<div class="row">
    <div class="col-md-12">
        <div class='panel panel-info'>
            <div class='panel-heading'>
                <h3 class='panel-title'>Heads up!</h3>
            </div>
            <div class='panel-body'>
                To populate the table, please click on a column header. Be patient, a lot of data is being sorted in the
                background!
            </div>
        </div>
    </div>
</div>

<script>

    function format(rowData) {
        var div = $('<div/>')
            .addClass('loading')
            .text('Loading...');

        $.ajax({
            url: '/api/v1/readsextra/?search_criteria=read_id&search_value=' + rowData.read_id,
            //dataType: 'json',
            success: function (json) {

                var textarea = $('<textarea rows=10 cols=100/>');

                div
                    .html('')
                    .removeClass('loading');

                textarea.text(json.sequence);

                div.append(textarea);
            }
        });

        return div;
    }
</script>
